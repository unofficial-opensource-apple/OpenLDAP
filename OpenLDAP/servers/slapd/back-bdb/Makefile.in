# $OpenLDAP: pkg/ldap/servers/slapd/back-bdb/Makefile.in,v 1.14 2002/01/25 06:19:01 hyc Exp $

SRCS = init.c tools.c config.c \
	add.c bind.c compare.c delete.c modify.c modrdn.c search.c \
	extended.c passwd.c referral.c attribute.c group.c \
	attr.c index.c key.c dbcache.c filterindex.c \
	dn2entry.c dn2id.c error.c id2entry.c idl.c nextid.c cache.c
OBJS = init.lo tools.lo config.lo \
	add.lo bind.lo compare.lo delete.lo modify.lo modrdn.lo search.lo \
	extended.lo passwd.lo referral.lo attribute.lo group.lo \
	attr.lo index.lo key.lo dbcache.lo filterindex.lo \
	dn2entry.lo dn2id.lo error.lo id2entry.lo idl.lo nextid.lo cache.lo

LDAP_INCDIR= ../../../include       
LDAP_LIBDIR= ../../../libraries

BUILD_OPT = "--enable-bdb"
BUILD_MOD = @BUILD_BDB@
BUILD_MOD_DYNAMIC = @BUILD_BDB_DYNAMIC@

mod_DEFS = -DSLAPD_IMPORT
MOD_DEFS = $(@BUILD_BDB@_DEFS)

shared_LDAP_LIBS = $(LDAP_LIBPATH) -lldap_r -llber
NT_LINK_LIBS = -L.. -lslapd $(@BUILD_LIBS_DYNAMIC@_LDAP_LIBS)

LIBBASE = back_bdb

XINCPATH = -I.. -I$(srcdir)/..
XDEFS = $(MODULES_CPPFLAGS)

all-local-lib:	../.backend

../.backend: lib$(LIBBASE).a
	@touch $@

